$(document).on("click",".tree-switch",function(){var n=$(this).closest(".tree"),t=n.children(".tree-box"),i;n.hasClass("tree-active")?(t.css("display","block"),n.removeClass("tree-active"),t.slideUp(300)):(i=n.parent().children(".tree-active"),i.children(".tree-box").css("display","block").slideUp(300),i.removeClass("tree-active"),t.slideDown(300),n.addClass("tree-active"))});$(document).on("focus",".tree-search",function(){function u(n){$(".tree").each(function(){var t=$(this),i=t.children(".tree-box"),u=t.children(':not(".tree-box"):contains("'+n+'")'),r=i.children(':contains("'+n+'")');u.length>0||r.length>0?(u.length>0&&(t.css("display","").removeClass("tree-active"),i.css("display",""),i.children().css("display","")),r.length>0&&(t.css("display","").addClass("tree-active"),i.css("display",""),r.css("display",""),i.children().not(r).css("display","none"))):t.css("display","none")})}function i(){clearTimeout(t);t=setTimeout(function(){var t=n.val();u(t);t.length==0&&$(".tree").removeClass("tree-active")},300)}function r(){n.off({blur:r,keydown:i})}var n=$(this),t=null;n.on({blur:r,keydown:i});this.setSelectionRange(0,this.value.length)});