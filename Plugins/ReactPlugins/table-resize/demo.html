<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <style type="text/css">
        /*非必要样式*/
        *,::before,::after {box-sizing: border-box;}
        body,h1,h2,h3,h4,h5,h6,dl,dd,p,input{margin: 0;}

        /*非必要样式*/
        table {width: 100%;border-spacing: 0;border-top: 1px solid #DEE2E6;border-left: 1px solid #DEE2E6;}
table th,table td{padding:0.5rem 0.5rem;line-height: 1.3;text-align:center;border-bottom: 1px solid #DEE2E6;border-right:1px solid #DEE2E6;}
table thead tr:last-child th{border-bottom:2px solid #DEE2E6;}
table th {white-space: nowrap;/*th不换行，最小宽度为th内容宽度*/}
table tbody tr:hover>td {background-color:#f5f5f5;}
table td img{max-width:100%;max-height:1.875rem;margin-top:-12px;margin-bottom:-10px;}
table tbody trtable-checked>td{background-color:#eee;}

    </style>
    <link rel="stylesheet" type="text/css" href="table-resize.css" />
</head>
<body>
    <!--
        1.关于 table-resize-item
            1.1 table-layout:auto模式下，当内容宽度大于设置的宽度，设置的宽度会无效，所以里面加一层 div，并类样式设置 min-width:100%;max-width:100%;
            1.2 table-resize-item只是用于设置宽度用的，与 table-resize.js 无关
            1.3 所有th,td中都加了 <div class="table-resize-item"> 只是为了统一格式
        2.拖拽时，table 一定是 table-layout:fixed模式，因为性能高，且其他列不会随内容的宽度变化而变化
        3.table 一开始一定是 table-layout:auto，因为要用他渲染列宽，自己手写代码渲染列宽不现实
        4.table中的数据可能是ajax加载的，我需要数据加载后 table-layout:auto渲染列宽，所以不能页面加载完后设置 table-layout:fixed，所以是按下拖拽的时候设置
        5.table可能是后面弹框加载出来的，th列可能是ajax加载的，所以是 document 绑定 mouseenter 事件，且在th上触发


        描述：拖拽表格调整列宽
        .table-resize 标识可以拖拽的表格
        .table-resize-disable 禁止拖拽的列
        .table-resize-item 用于设置列宽的，与 table-resize.js无关，如果不设置列宽，可以不用加 <div class="table-resize-item">，案例中为了统一格式所以都加了
        -->
    <table class="table-resize">
        <thead>
            <tr>
                <th style="width: 20px"><div class="table-resize-item" style="width:20px;">111</div></th>
                <th class="table-resize-disable"><div class="table-resize-item">111</div></th>
                <th><div class="table-resize-item">111</div></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><div class="table-resize-item" style="width:20px;">你说什么你说什么</div></td>
                <td><div class="table-resize-item">222</div></td>
                <td><div class="table-resize-item">333</div></td>
            </tr>
        </tbody>
    </table>

    <script type="text/javascript" src="table-resize.js"></script>
</body>
</html>