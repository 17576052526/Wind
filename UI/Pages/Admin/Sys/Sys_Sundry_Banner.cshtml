@page "{handler:?}"
@model Sys_Sundry_BannerModel
@{
    Layout = "_Layout_List";
}

<div class="box h-100">
    <div class="box-head flex">
        <div class="flex-1">@Request.Query["navName"]</div>
        <div class="-mlr-5">
            <a href="@(Request.Path)Edit?typeID=@Request.Query["typeID"]&url=@System.Net.WebUtility.UrlEncode(Request.Path+Request.QueryString)" class="btn-primary h-pre mlr-5"><i class="icon-plus"></i>新建</a>
            <input type="button" class="btn-danger h-pre mlr-5" value="删除" onclick="checkDelete()" />
        </div>
    </div>
    <div class="box-body flex-column">
        <div class="table-fixed flex-1">
            <form method="post" action="@Request.Path/Delete@(Request.QueryString)" id="form">
                <table class="table check-box">
                    <thead>
                        <tr>
                            <th class="table-resize table-fixed-col"><div class="table-resize-item"><input type="checkbox" class="check-all" /></div></th>
                            <th class="table-resize"><div class="table-resize-item">序号</div></th>
                            <th class="table-resize"><div class="table-resize-item">图片</div></th>
                            <th class="table-resize"><div class="table-resize-item">链接</div></th>
                            <th class="table-resize"><div class="table-resize-item">是否新窗口打开</div></th>
                            <th class="table-resize"><div class="table-resize-item">内容</div></th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < Model.List.Count; i++)
                        {
                            <tr>
                                <td class="table-fixed-col"><div class="table-resize-item"><input type="checkbox" class="check-item" name="checkID" value="@Model.List[i].ID" /></div></td>
                                <td><div class="table-resize-item">@(Model.PageSize * (Model.PageIndex - 1) + i + 1)</div></td>
                                <td><div class="table-resize-item"><a target="_blank" href="@(Model.List[i].Img!=null?Model.List[i].Img.Split('|')[0]:"")"><img src="@(Model.List[i].Img!=null?Model.List[i].Img.Split('|')[0]:"")" /></a></div></td>
                                <td><div class="table-resize-item">@Model.List[i].Temp1</div></td>
                                <td><div class="table-resize-item"><input type="checkbox" checked="@(Model.List[i].Temp2 == "1")" onclick="this.checked=!this.checked" /></div></td>
                                <td><div class="table-resize-item">@Model.List[i].Content</div></td>
                                <td class="white-nowrap">
                                    <a class="btn-primary h-pre mlr-5 btn-xs" href="@Request.Path/Move?typeID=@Request.Query["typeID"]&id=@Model.List[i].ID&isTop=1">上移</a>
                                    <a class="btn-primary h-pre mlr-5 btn-xs" href="@Request.Path/Move?typeID=@Request.Query["typeID"]&id=@Model.List[i].ID&isTop=0">下移</a>
                                    <input type="button" class="btn-danger h-pre mlr-5 btn-xs" value="删除" onclick="checkDelete(this)" />
                                    <a class="btn-primary h-pre mlr-5 btn-xs" href="@(Request.Path)Edit?id=@Model.List[i].ID&url=@System.Net.WebUtility.UrlEncode(Request.Path+Request.QueryString)">修改</a>
                                </td>
                            </tr>
                        }
                        @if (Model.List.Count == 0)
                        {
                            <tr><td colSpan="100" class="text-center font-bold">暂无数据</td></tr>
                        }
                    </tbody>
                </table>
            </form>
        </div>
        @Html.Pager(new Pager(Model.DataCount, Model.PageSize) { CssClass = "pager mt-5", NoCheFLBTClass = "pager-none", IndexClass = "pager-active" })
    </div>
</div>